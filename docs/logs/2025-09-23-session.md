# 2025-09-23 작업 로그

## 목표
- Phase 6 (UI ↔ API/DB 연동) 완료 검증 및 잔여 이슈 정리
- 프론트와 API 간 날짜/썸네일 등 데이터 정합성 문제 해결
- 배포 준비(Phase 7) 전 전체 코드 품질 점검

## 수행 내용
- Next.js 페이지를 API 기반 구조로 전환: `ArticleCard` 컴포넌트, `useDailyArticles`/`useWeeklyArticles`/`useDailySidebar`/`useWeeklySidebar` 훅 도입
- `/api` 연동 확인: Daily/Weekly 목록, 검색, Load More, 로딩/에러/빈 상태 UI 연결
- API 응답 정규화: `services/api/src/repositories/articlesRepository.js`에서 `date::date`, ISO 포맷 적용, weekly `thumbnail` 참조 제거
- 스크레이퍼 개선: 요약 폴백, Retry 세션, 중복 필터링, 본문 최소 길이, ID 생성 방식 보강
- 환경 변수 및 README 보완: ingest 실행법 정리, 프론트 `.env.local` 안내
- Supabase 연결 이슈 분석: IPv6 → 커넥션 풀 접근 필요성, RLS 정책 확인
- Phase 6 체크 항목 리뷰 및 문서 반영 준비

## 비고
- 프런트 날짜 표시에 하루 차이 발생하던 문제는 API에서 `date::date` 처리 후 해결 확인
- Weekly API에서 `thumbnail` 컬럼 부재로 발생한 500 오류 제거 완료
- OpenAPI 경로 경고는 Swagger 경로 수정 예정 (서비스 동작에 영향 없음)
- Phase 7 착수 전: Supabase에 샘플 데이터 충분히 적재, 자동화 워크플로 설계 필요
